"use strict";var updateStatusIsUnlocking=function(chestId){var platformTarget=$("#"+chestId),startButtonTarget=platformTarget.find(".startButton"),upgradeButtonTarget=platformTarget.find(".upgradeButton");$.confirm(confirmWindow("確定啟動寶箱嗎！？","",function(){ajaxDeferred("PUT","/chest/updateStatus/"+chestId,{status:"UNLOCKING"}).then(function(){return $(".container .space .startButton[data-status=LOCKED]").fadeOut("slow"),upgradeButtonTarget.fadeOut("slow"),startButtonTarget.attr("data-status","UNLOCKING"),ajaxDeferred("GET","/chest/coolDownTime/"+chestId)}).then(function(jsonData){countDown(jsonData.content,chestId,platformTarget)})}))},countDown=function(seconds,chestId,platformTarget){var imgChestTarget=platformTarget.find(".chest"),countdownTarget=platformTarget.find(".countdown"),openNowBtnTarget=platformTarget.find(".openNowButton");imgChestTarget.addClass("unlockingGray");var countDownFunc=function(seconds){countdownTarget.countDown({timeInSecond:seconds,displayTpl:"<i style='font-size:28px;color:yellow' class='fa'>&#xf254;</i>{hour}時{minute}分{second}秒",limit:"hour",callback:function(){openNowBtnTarget.fadeOut(),eventChest.updateStatusIsReady(chestId),imgChestTarget.removeClass("unlockingGray")}})};countDownFunc(seconds)};